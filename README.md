# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код
1. Класс Api. Набор базовых запросов к серверу. Методы:
~ get для get запросов, 
~ post для других видов запросов.

2. Класс EventEmitter. Позволяет подписываться на события и уведомлять подписчиков 
о наступлении события. Методы:
~ on, чтобы установить обработчик на событие,
~ off, чтобы снять обработчик с события,
~ emit, чтобы инициировать событие с данными, 
~ onAll для отслеживания всех событий, 
~ offAll для сброса всех событий, 
~ trigger - коллбек триггер, генерирующий событие при вызове.

3. Класс Model<T>. Базовая модель, чтобы можно было отличить ее от простых объектов с данными. Методы:
~ emitChanges, чтобы сообщить всем что модель поменялась.

4. Класс Component<T>. Базовый класс для компонентов представления. Дает широкий функционал для работы с HTML элементами. Методы:
~ toggleClass для переключения классов,
~ setText для изменения текста,
~ setDisabled для изменения работоспособености,
~ setHidden, чтобы скрыть,
~ setVisible, чтобы показать,
~ setImage для установки фото,
~ render, чтобы вернуть корневой DOM-элемент.

5. Класс Modal. Основной класс для создания модальных окон. Методы:
~ open для открытия,
~ close для закрытия,
~ render для возврата получившегося DOM-элемента.

6. Класс Form. Основной класс для создания форм. Методы:
~ onInputChange для отслеживания изменений в форме и поля где проихзошли изменения,
~ render для возврата получившегося DOM-элемента.

## Класс ShopAPI
Клас для работы с апи сервера интернет магазина. Методы:
~ getProductList для получения списка товаров,
~ orderProducts для отправки заказа на сервер.

## Модели данных
1. Класс Product. Класс для описания товара, который переиспользуется в каталоге, превью и корзине.

2. Класс ShopModel. Описывает всю бизнес-логику интернет магазина. Методы:
~ toggleOrdered позволяет добавлять и удать товары из корзины,
~ clearBasket отчщает корзину,
~ clearOrder отчищает данные заказа,
~ getTotal, чтобы получить сумму товаров в корзине,
~ setCatalog, чтобы внести в модель данные каталога,
~ setOrderField, чтобы внести в модель данные заказа,
~ validateOrder проверяет данные заказа.



## Компоненты представления
1. Класс Basket. Класс для отображения корзины с товарами, итоговой суммы, кнопки оформления заказа.
2. Класс Success. Класс для отображения успешной покупки.
3. Класс Order. Класс для отображения первой формы заказа с возможностью выбора способа оплаты и ввода адреса.
4. Класс Contacts. Класс для отображения второй формы заказа с двумя полями ввода.
5. Класс Card<T>. Класс для отображения карточки товара в каталоге, превью и корзине.
6. Класс Page. Класс для отображения всей страницы с каталогом, кнопки корзины и счетчика товаров.

## Ключевые типы данных
interface IProduct - данные товара,
type IBasketItem - данные товара использующиеся в корзине,
interface IOrderForm - данные из первой формы,
interface IContactsForm - данные из второй формы,
interface IForm - данные всей формы,
interface IOrder - данные заказа,
type FormErrors - данные поля формы с названием ошибки,
interface IOrderResult - данные полученные с сервера при отправке заказа на сервер,
interface IShop - данные хранящиеся в интернет магазина,
interface IShopAPI - о том какие запросы должны быть в апи,
interface IPage - о том что должна содержать страница,
interfacce ICard<T> - о том какие элементы должны быть в карточке товара,
interface IBasketView - о том как должна выглядеть корзина,
interface ISuccess - что должно быть при успешном оформлении заказа.